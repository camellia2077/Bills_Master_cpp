

# **`TODO.md`**

这是一个用于跟踪项目待办事项、功能开发和错误修复的文档。所有任务都按照优先级进行了排序。

## P0: 紧急修复 (Critical Bugs)

  * *(暂无)*

## P1: 高优先级 (High Priority)
  * **[ ] 给parent_item加入注释字段**

  * **[ ] 架构改进：分离分类的内部标识与显示名称**

      * **问题**: 目前的 `parent_item` (如 `"MEAL吃饭"`) 将唯一的英文标识和用于显示的中文名称耦合在一起，不利于程序维护和未来实现多语言支持。
      * **目标**: 修改 `Validator_Config.json` 的结构，将每个 `parent_item` 拆分为两个独立的字段，例如：
        ```json
        {
          "id": "meal",
          "displayName": "吃饭",
          "description": "与餐饮相关的消费",
          "sub_items": [...]
        }
        ```

  * **[ ] 改进错误处理：明确报告缺失的插件文件**

      * **问题**: 当导出报告时，如果所需的 `.dll` 或 `.so` 插件文件不存在，程序可能会异常退出或仅报一个通用错误，用户难以定位问题。
* **[ ] 给Modifier_Config配置文件进行合法性验证，确保给出要添加的语言，其对应的映射必须不为空**
-----

## P2: 中优先级 (New Features & Improvements)

  * **[ ] 功能开发: 在导出报告中增加 `source`, `comment`, `transaction_type`,  `display_names` 字段是否输出的json选项**

      * **描述**: 目前这三个字段已成功存入数据库，但尚未在最终报告中展示。应该给导出模块增加json配置，因为用户有时候只想看到最简洁的导出，不需要`source`, `comment`, `transaction_type` ,  `display_names` 这些字段。


  * **[ ] 功能增强：为年度报告增加月度平均值和差异分析**

      * **描述**: 增强年度报告的数据分析能力，使其更具参考价值。
      * **任务**:
        1.  **计算逻辑**: 在 `YearlyReportGenerator` 或 `YearQuery` 中，计算出年度总支出后，除以有数据的月份数，得到“月平均支出”。
        2.  **数据展示**: 在所有格式的年度报告中，为每个月的数据行增加一列或一行，显示该月支出与“月平均支出”的差额（例如 `+150.70` 或 `-88.25`）。

## P3: 低优先级 (Refactoring & Investigation)

  * *(暂无)*